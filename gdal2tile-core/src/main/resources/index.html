<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'/>
    <title>Add a raster tile source</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no'/>
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.1.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.1.1/mapbox-gl.css' rel='stylesheet'/>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>
<body>

<div id='map'></div>
<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoicG9saXhpYW9oYWkiLCJhIjoiY2sxcWZoZHVtMTc3ZTNucGdmNXNoa3p1aiJ9.lZR76GpA_C9-JUZHZyEWqQ';
    var map = new mapboxgl.Map({
        container: 'map', // container id
        style: {
            "version": 8,
            "sources": {
                "tdt-street-label": {
                    "type": "raster",
                    "tiles": [
                        'http://t0.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0',
                        'http://t1.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0',
                        'http://t2.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0',
                        'http://t3.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0',
                        'http://t4.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0',
                        'http://t5.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0',
                        'http://t6.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0'
                    ],
                    "tileSize": 256,
                },
                "tdt-street-tiles": {
                    "type": "raster",
                    "tiles": [
                        'http://t0.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0',
                        'http://t1.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0',
                        'http://t2.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0',
                        'http://t3.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0',
                        'http://t4.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0',
                        'http://t5.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0',
                        'http://t6.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=8971e4c7b3640d506c2dc111221af6a0'
                    ],
                    "tileSize": 256,
                },
                "my-tiles": {
                    "type": "raster",
                    "tiles": ['http://localhost:1000/tiles/{z}/{x}_{y}.png'],
                    "tileSize": 256,
                }
            },
            "layers": [{
                "id": "tdt-street-layer-tiles",
                "type": "raster",
                "source": "tdt-street-tiles",
                "minzoom": 0,
                "maxzoom": 22
            }, {
                "id": "tdt-street-layer-label",
                "type": "raster",
                "source": "tdt-street-label",
                "minzoom": 0,
                "maxzoom": 22
            }, {
                "id": "my-img-tiles",
                "type": "raster",
                "source": "my-tiles",
                "minzoom": 17,
                "maxzoom": 21
            }]
        },
        center: [116.40, 39.40], // starting position
        zoom: 10, // starting zoom
        minZoom: 1,
        maxZoom: 18
    });
</script>

</body>
</html>
